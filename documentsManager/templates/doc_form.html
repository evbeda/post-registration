{% extends "base.html" %} {% block content %} {% include "partials/jumbotron.html" %}
<div class="container">

    <div class="row justify-content-center">
        <div class="col-8 col-md-6">

            <h5>Type of Submission:</h5>
            <div class="form-group form-check">
                <input type="radio" name="doc_switcher" value="file" id="fileRadio"
                       class="form-check-input"
                       {% if file_form %} checked {% endif %}>
                <label class="form-check-label" for="fileRadio">
                    File Submission
                </label>
            </div>
            <div class="form-group form-check">
                <input type="radio" name="doc_switcher" value="text" id="textRadio" class="form-check-input"
                       {% if not file_form %} checked {% endif %}>
                <label class="form-check-label" for="textRadio">
                    Form/Text Submission
                </label>
            </div>
            <form action="" method='post'>
                {% csrf_token %}
                <div class="doc_req_file">
                    {{ forms.file_doc.as_p }}
                    <input type='submit' name='submit_file' class="btn btn-success"/>
                    <a href="{% url 'docs' event.id %}" class="btn btn-primary">Cancel</a>
                </div>
            </form>
            <form action="" method='post'>
                {% csrf_token %}
                <div class="doc_req_text">
                    {{ forms.text_doc.as_p }}
                    <input type='submit' name='submit_text' class="btn btn-success"/>
                    <a href="{% url 'docs' event.id %}" class="btn btn-primary">Cancel</a>
                </div>
            </form>
        </div>

    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
    const divFiles = $(".doc_req_file");
    const divText = $(".doc_req_text");
    const toggleForms = function (event) {
        if (event.target.value == 'text') {
            divFiles.fadeOut('fast', () => divText.fadeIn());
        }
        else {
            divText.fadeOut('fast', () => divFiles.fadeIn());
        }
    }
    const switcher = function () {
        // divFiles.hide();
        divText.hide();
        $(":radio").on('change', toggleForms);
    }
    $(document).ready(switcher);
</script> {% endblock content %}